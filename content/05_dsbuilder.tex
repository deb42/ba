\section{Vorstellung des Moodleplugins EASy-DSBuilder}
\label{sec:dsbuilder}
Der EASy-DSBuilder ist ein E-Assessent Tool, welches der Evaluation grundlegender Konzepte über Operationen (z.B. Suchen, Einfügen, und Entfernen) innerhalb der Datenstruktur \textit{Binärbaum} dient \cite{Usener2014}. 

Das Tool wurde speziell für die Lernplattform Moodle implementiert. 

Diese Kapitel wird das Tool EASy-DSBuilder vorstellen. Hierbei wird zu erst in Kapitel \ref{sec:funktionalitaet} auf die Funktionalität aus Benutzersicht eingegangen. Anschließend erfolgt eine Erläuterung der Implementation (Kapitel %\ref{?}).

\subsection{Funktionalität aus Benutzersicht}
\label{sec:funktionalitaet}

Im folgenden Kapitel wird die Funktionalität des Moodleplugins EASy-DSBuilder vorgestellt. Hierbei wird auf die beiden Sichten Student und Lehrender eingegangen.

\paragraph{Lehrender} \hfill \\
Der Lehrende hat zwei Grundlegend Aufgaben. Zum einen ist er dafür verantwortlich, dass eine Aufgabe erstellt wird, zum anderen hat er die Möglichkeit, die Ergebnisse einzusehen, um beispielsweise Indikatoren zur Verbesserung der Lehre zu finden \cite{Usener2014}. Wird eine neue Aufgabe erstellt, hat der Lehrende die Möglichkeit allgemeine Informationen wie den \textit{Titel}, die \textit{Beschreibung} und das \textit{Fälligkeitsdatum} anzugeben. Unter \textit{Source Files} kann der Lehrende über Drag-and-Drop seine eigene Implementierung einer Datenstruktur zu dem Moodleplugin hinzufügen. Hierzu muss er jedoch eine Wrapper auf Basis eines Interfaces implementieren, welches die verlangten Voraussetzungen erfüllt. Diese Wrapperklasse muss anschließend vom Lehrenden als Hauptklasse eingestellt werden. Auf die Funktionalität der Wrapperklasse aus technischer Sicht wird im Kapitel \ref{sec:technWebService} näher eingegangen. Des weiteren kann der Lehrende eine Feedback aktivieren. Die genau Funktionalität des Feedbacks wird im Absatz der Studentensicht erläutert.  

\paragraph{Studierender} \hfill \\
Der Studierende verfügt über zwei Ansichten. Zum einen die Übersichtsansicht, zum anderen die Bearbeitungsansicht.
Nachdem der Studierende sich in das Plugin eingewählt hat, ist ist Übersichtsansicht über den bisherigen Verlauf des Assessments zu sehen. In dieser Übersicht ist der Abgabestatus, der Bewertungsstand, der Abgabezeitpunkt und die verbliebene Zeit zu sehen (vergl. Abb. \ref{}). Über den Button \textit{Aufgabe bearbeiten} gelangt der Studierende zum Editor, in dem die Aufgabe bearbeitet werden kann. 

Die Bearbeitungsansicht ist in drei grundlegende Abschnitte unterteilt. Den oberen Teil der Ansicht bildet ein Überblick über den aktuellen Schritt. Dieser Überblick beinhaltet den Fortschritt der Aufgabe, die Nummer des aktuellen Schritts und den aktuellen Arbeitsauftrag. Im mittleren Teil der Sicht befindet sich der Editor, in dem der Studierende die Aufgabe bearbeiten kann. Im oberen linken Bereich des Editor befinden sich drei Knöpfe (vergl. Abb. \ref{}.1), über welche der Editiermodus ausgewählt werden kann. Der 1. Knopf ermöglicht das verschieben von Konten im Editor, der zweite Knopf ermöglicht das Ziehen von Kanten zwischen zwei Knoten, und der dritte Knopf ermöglicht das Entfernen von Konten.

Der DragandDropGrafikeditor enthält zwei bearbeitbare Elemente, die Knoten und die Kanten. Über Manipulation dieser Elemente sollen Studierende den
Umgang mit Datenstrukturoperationen erlernen. Hierbei kann der Studierende Operationen wie das Einfügen in oder das Löschen aus einer Datenstruktur 
praktizieren. In der \textbf{momentanen} Version des EASyDSBuilders beginnt jeder Schritt mit dem Ergebnisbaum des zuvor eingereichten Schrittes oder einem Initiierngsbaum 
wenn, es sich um den  ersten Schritt handelt.
Auf der linken Seite des Editors wird der einzufügende Knoten bereitgestellt. Die Aufgabe des Studierenden ist es, diesen Knoten an der richtigen 
Stelle in den Baum einzufügen. \textbf{Erläuterung der Möglichkeiten von Manipulationen}
Nachdem der Studierende seine Veränderungen vorgenommen hat, kann er über den Knopf \textit{Syntax prüfen} den Baum ausbalanciert anzeigen lassen. Auf diese Weise kann der Studierende überprüfen, ob die Anwendung den Baum im Sinne des Studierenden verarbeitet hat. Entspricht die überprüfte Struktur nicht der Struktur eines Baumes, \textbf{genauere Definiton} bekommt der Studierende eine Fehlermeldung mit Hinweis über die Fehlerquelle.

Hat der Lehrende bei der Einrichtung des DSBuilders die Option \textit{direktes Feedback} eingestellt, erscheint im Falle einer falschen Eingabe ein Feedbackfeld unterhalb des Editors. In diesem Feedbackfeld wird zu erst ein Informationstext angezeigt, welches das richtige Vorgehen in dem zuvor eingereichtem Schritt beschreibt. Unterhalb dieses Informationstextes ist der korrekte Baum zu sehen. Die falsch eingeordneten Knoten sind rot markiert. 


\subsection{Umsetzung aus technischer Sicht}
\label{sec:technologien}

Das gesamte System um den EASy-DSBuilder besteht backendseitig aus zwei separaten Systemen. Zum einen gibt es das eigentliche Moodleplugin, welches in eine bestehenden Moodelplattform integriert werden kann, zum anderen gibt es einen Datenstruktur-Verarbeitungsservice, welcher als Webservice implementiert ist. Das Moodleplugin hat die Möglichkeit über die Moodle-API Daten in einer SQL-Datenbank - beispielsweise einem MySQL-Server - zu hinterlegen. Die Kommunikation zwischen dem Moodleplugin und dem Webservice läuft über das SOAP-Protokoll. Der Webservice ist als WildFly Application Server implementiert und unterliegt somit dem Java-EE7-Standard \cite{wildflyCert}. In Abbildung \ref{fig:technoloieUeberblick} ist dargestellt, wie die unterschiedlichen Technologien in einander greifen.

\begin{figure}[htbp] 
  \centering
     \includegraphics[width=0.9\textwidth]{grahics/UeberblickTechnologien.jpg}
  \caption{Technischer Überblick}
  \label{fig:technoloieUeberblick}
\end{figure}

Der Datenstruktur-Verarbeitungsservice hat die Aufgabe Datenstrukturen mit Hilfe von Die Separierung des Systems erfolgt aus den Risiken, dass der Code schädlich sein oder eine schlechte Ausführungsleistung aufweist kann. Durch die Trennung der beiden Systeme kann in beiden Fällen Zusammen- oder Performanceeinbrüchen der gesamten E-Learning-Plattform vorgebeugt werden. Weiterhin kann so Datendiebstahl vorgebeugt werden, da in der Verarbeitungsumgebung keine nutzerbezogenen Daten verarbeitet werden. Bei Ausfall des Verarbeitungsservices ist jedoch das Aufrufen eines nächsten Schrittes nicht mehr möglich \cite{Usener2014}.

Auf Clientseite wird HTML mit CSS und JavaScript verwendet, um das Plugin für den Benutzer darstellen zu können. Als JavaScript-Frameworks wird jQuery und und als JavaSrcipt-Applikation wird jsdot eingesetzt. Über jQuery ist die Kommunikation mit dem Moodleplugin über das AJAX-Protokoll organisiert. Jsdot dient als Grapheditor.  

\subsubsection{Datenstruktur-Verarbeitungsservice}  
\label{sec:technWebService}

Der Datenstruktur-Verarbeitungsservice kompiliert und führt den vom Lehrenden bereitgestellten Code aus. Er ist als Webservice implementiert und kann somit von einem anderen Server aus bereitgestellt werden. Die Ausführung des Codes ist vor jedem Einfügen oder Löschen, das von einem Studierenden durchgeführt wird, notwendig.

Auf der Grundlage des bisherigen, eingereichten Schritts berechnet die Ausführungsumgebung den nächsten  die Ausführungsumgebung der nächsten Betriebswert (Taste, die eingefügt oder gelöscht wird), die erwartete Lösung und die entsprechende detaillierte Rückmeldungen.

\subsubsection{Moodleplugin backendseitig}
\label{sec:dsbuilderbackend}
Das backendseitige Moodleplugin besitzt die grundlegende Struktur eines Moodleplugins, wie sie in Kapitel \ref{sec:aufbauPlugin} dargestellt wurde. 

Über die Datei \textbf{view.php} wird der EASy-DSBuilder initialisiert. Von hier aus wir die Datei \textbf{renderer.php} angestoßen. Diese Datei sorgt dafür, dass die Ansicht erstellt wird. 

\textbf{AJAX}
Zur Kommunikation stellt das Moodleplugin eine AJAX Api zur Verfügung. 

Der Codeausschnitt \ref{code:ajax} zeigt die Aktionen, die nach einer AJAX-Anfrage durchgeführt werden können. Der erste überprüft, ob es sich bei der übergebenen Struktur um eine richtige handelt

\lstinputlisting[language=PHP, caption=AJAX API, frame=single, label=code:ajax]{code/ajax.php}


%\end{scriptsize}



\subsubsection{Moodleplugin frontendseitig}
\label{sec:dsbuilderfrontend}

